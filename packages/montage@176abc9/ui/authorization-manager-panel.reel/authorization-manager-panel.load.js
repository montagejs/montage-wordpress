montageDefine("176abc9","ui/authorization-manager-panel.reel/authorization-manager-panel",{dependencies:["ui/component","core/promise","core/application","collections/map"],factory:function(a,i,t){var o=a("ui/component").Component,n=a("core/promise").Promise,e=a("core/application").application,l=a("collections/map");i.AuthorizationManagerPanel=o.specialize({authorizationPanels:{get:function(){return this._authorizationPanels||(this._authorizationPanels=[]),this._authorizationPanels},set:function(a){this._authorizationPanels=a}},authorizationManager:{value:void 0},approveAuthorization:{value:function(a,i){var t=this.authorizationPanels.indexOf(i);t!==-1&&this.authorizationPanels.splice(t,1),this._panels.get(i).resolve(a),!this.authorizationPanels.length&&this._authorizationResolve&&this._authorizationResolve(a)}},_panels:{get:function(){return this.__panels||(this.__panels=new l),this.__panels}},authorizeWithPanel:{value:function(a){var i,t=this;return this._panels.has(a)?i=n.resolve(null):(i=new n(function(i,o){t._panels.set(a,{resolve:i,reject:o})}),this.authorizationPanels.push(a)),i}},_authorizationResolve:{value:void 0},cancelAuthorization:{value:function(){e.applicationModal&&e.applicationModal.hide(this),this._authorizationResolve&&this._authorizationReject("CANCEL")}},_authorizationReject:{value:void 0},runModal:{value:function(){var a=this;return new n(function(i,t){a._authorizationResolve=i,a._authorizationReject=t,e.applicationModal&&e.applicationModal.show(a)})}}})}});