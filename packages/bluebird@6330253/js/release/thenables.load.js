montageDefine("6330253","js/release/thenables",{dependencies:["./util"],factory:function(t,e,n){"use strict";n.exports=function(e,n){function r(t,r){if(f(t)){if(t instanceof e)return t;var u=c(t);if(u===i){r&&r._pushContext();var o=e.reject(u.e);return r&&r._popContext(),o}if("function"==typeof u){if(a(t)){var o=new e(n);return t._then(o._fulfill,o._reject,void 0,o,null),o}return l(t,u,r)}}return t}function u(t){return t.then}function c(t){try{return u(t)}catch(e){return i.e=e,i}}function a(t){try{return s.call(t,"_promise0")}catch(e){return!1}}function l(t,r,u){function c(t){l&&(l._resolveCallback(t),l=null)}function a(t){l&&(l._rejectCallback(t,s,!0),l=null)}var l=new e(n),f=l;u&&u._pushContext(),l._captureStackTrace(),u&&u._popContext();var s=!0,p=o.tryCatch(r).call(t,c,a);return s=!1,l&&p===i&&(l._rejectCallback(p.e,!0,!0),l=null),f}var o=t("./util"),i=o.errorObj,f=o.isObject,s={}.hasOwnProperty;return r}}});